### REST test file (VS Code REST Client / httpYac)

@baseUrl = http://localhost:3001/api
@contentType = application/json

###
# Ping API root
GET {{baseUrl}}

###
# Dashboard: number of clients
GET {{baseUrl}}/dashboard/number_clients

###
# Clients - list
GET {{baseUrl}}/clients

###
# Clients - create
POST {{baseUrl}}/clients
Content-Type: {{contentType}}

{
  "code_client": "CLT-0001",
  "title": "M.",
  "firstName": "John",
  "lastName": "Doe",
  "email": "john.doe@example.com",
  "phone_1": "+33 6 12 34 56 78",
  "phone_2": "+33 6 87 65 43 21",
  "phone_3": "",
  "address": "10 Rue de Paris",
  "postal_code": "75001",
  "city": "Paris"
}

###
# Clients - get by id
GET {{baseUrl}}/clients/1

###
# Clients - update by id
PATCH {{baseUrl}}/clients/1
Content-Type: {{contentType}}

{
  "email": "johnny.doe@example.com",
  "phone_1": "+33 6 00 00 00 00",
  "city": "Lyon"
}

###
# Clients - delete by id
DELETE {{baseUrl}}/clients/1

###
# Produits - list
GET {{baseUrl}}/produits

###
# Produits - get by id
GET {{baseUrl}}/produits/2

###
# Produits - create
POST {{baseUrl}}/produits
Content-Type: {{contentType}}

{
  "nom": "Fenetre PVC 120x120"
}

###
# Produits - update by id
PATCH {{baseUrl}}/produits/2
Content-Type: {{contentType}}

{
  "nom": "Fenetre PVC 120x135"
}

###
# Produits - delete by id
DELETE {{baseUrl}}/produits/2

###
# Commercial - list
GET {{baseUrl}}/commercial

###
# Commercial - create
POST {{baseUrl}}/commercial
Content-Type: {{contentType}}

{
  "firstName": "Alice",
  "lastName": "Martin"
}

###
# Commercial - get by id
GET {{baseUrl}}/commercial/1

###
# Commercial - update by id
PATCH {{baseUrl}}/commercial/1
Content-Type: {{contentType}}

{
  "lastName": "Durand"
}

###
# Commercial - delete by id
DELETE {{baseUrl}}/commercial/1

###
# Affaire - list
GET {{baseUrl}}/affaire

###
# Affaire - create
POST {{baseUrl}}/affaire
Content-Type: {{contentType}}

{
  "name": "Projet Baies vitrées",
  "client_id": 1
}

###
# Affaire - get by id
GET {{baseUrl}}/affaire/1

###
# Affaire - update by id
PATCH {{baseUrl}}/affaire/1
Content-Type: {{contentType}}

{
  "name": "Projet Baies vitrées - phase 2"
}

###
# Affaire - delete by id
DELETE {{baseUrl}}/affaire/1

